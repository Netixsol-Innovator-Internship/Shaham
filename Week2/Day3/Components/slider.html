<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customer Reviews Slider</title>
    <link href="./output.css" rel="stylesheet" />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');
      body {
        font-family: 'Poppins', sans-serif;
      }
      /* Custom breakpoint for 1440px screens */
      @media (min-width: 1024px) and (max-width: 1440px) {
        .card-1440 {
          width: calc(33.333% - 16px) !important;
          max-width: 450px;
        }
      }
      @media (min-width: 1441px) {
        .card-1440 {
          width: 496px !important;
        }
      }
      @keyframes slideFade {
    0% {
      opacity: 0.6;
      transform: translateX(30px);
    }
    100% {
      opacity: 1;
      transform: translateX(0px);
    }
  }

  #slider {
  transition: transform 0.5s ease-in-out;
  will-change: transform;
}

  .card-animate {
    animation: slideFade 0.5s ease-in-out;
  }

  /* Button animations */
  .btn-animate {
    transition: transform 0.2s ease;
  }
  .btn-animate:hover {
    transform: scale(1.1);
  }
  .btn-animate:active {
    transform: scale(0.95);
  }
    </style>
  </head>
  <body class="bg-white">
    <!-- Background Wrapper -->
    <div class="w-full bg-[#D9D9D9] py-6 sm:py-8 lg:py-12">
      <!-- Container -->
      <div class="mx-auto max-w-[1530px] min-w-[320px] px-4 relative">
        <!-- Heading & Buttons -->
        <div class="flex justify-between items-center mb-6 sm:mb-8">
          <h2 class="text-2xl sm:text-3xl lg:text-[44px] font-bold leading-[100%]">Customer Reviews</h2>
          <div class="flex gap-2 sm:gap-4">
            <button id="prev" class="btn-animate">
  <img src="./images/ButtonLeft.png" alt="leftArrow" class="cursor-pointer w-8 h-8 sm:w-10 sm:h-10 lg:w-auto lg:h-auto">
</button>
<button id="next" class="btn-animate">
  <img src="./images/ButtonRight.png" alt="rightArrow" class="cursor-pointer w-8 h-8 sm:w-10 sm:h-10 lg:w-auto lg:h-auto">
</button>
          </div>
        </div>
        <!-- Slider Container -->
        <div class="relative overflow-hidden">
          <div
            id="slider"
            class="flex transition-transform duration-500 gap-2 sm:gap-4 lg:gap-6 w-full"
          >
            <!-- Review Card Template (Repeat 5x) -->
            <!-- Card 1 -->
            <div class="bg-white w-full sm:w-[calc(50%-8px)] lg:w-[496px] card-1440 h-[200px] sm:h-[240px] lg:h-[274px] p-4 sm:p-5 lg:p-6 rounded shadow flex-shrink-0">
              <img src="./images/SliderCard.png" alt="card" class="w-full h-full object-contain">
            </div>
            <!-- Card 2 -->
            <div class="bg-white w-full sm:w-[calc(50%-8px)] lg:w-[496px] card-1440 h-[200px] sm:h-[240px] lg:h-[274px] p-4 sm:p-5 lg:p-6 rounded shadow flex-shrink-0">
              <img src="./images/SliderCard.png" alt="card" class="w-full h-full object-contain">
            </div>
            <!-- Card 3 -->
            <div class="bg-white w-full sm:w-[calc(50%-8px)] lg:w-[496px] card-1440 h-[200px] sm:h-[240px] lg:h-[274px] p-4 sm:p-5 lg:p-6 rounded shadow flex-shrink-0">
              <img src="./images/SliderCard.png" alt="card" class="w-full h-full object-contain">
            </div>
            <!-- Card 4 -->
            <div class="bg-white w-full sm:w-[calc(50%-8px)] lg:w-[496px] card-1440 h-[200px] sm:h-[240px] lg:h-[274px] p-4 sm:p-5 lg:p-6 rounded shadow flex-shrink-0">
              <img src="./images/SliderCard.png" alt="card" class="w-full h-full object-contain">
            </div>
            <!-- Card 5 -->
            <div class="bg-white w-full sm:w-[calc(50%-8px)] lg:w-[496px] card-1440 h-[200px] sm:h-[240px] lg:h-[274px] p-4 sm:p-5 lg:p-6 rounded shadow flex-shrink-0">
              <img src="./images/SliderCard.png" alt="card" class="w-full h-full object-contain">
            </div>
            <!-- Card 6 -->
            <div class="bg-white w-full sm:w-[calc(50%-8px)] lg:w-[496px] card-1440 h-[200px] sm:h-[240px] lg:h-[274px] p-4 sm:p-5 lg:p-6 rounded shadow flex-shrink-0">
              <img src="./images/SliderCard.png" alt="card" class="w-full h-full object-contain">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- JS: Button + Auto Scroll -->
    <script>
      const slider = document.getElementById("slider");
      const next = document.getElementById("next");
      const prev = document.getElementById("prev");

      let index = 0;

      function getVisibleCards() {
        if (window.innerWidth < 640) return 1;
        else if (window.innerWidth < 1024) return 2;
        else return 3;
      }

      function updateSliderPosition() {
        const visible = getVisibleCards();
        const card = slider.children[0];
        const cardWidth = card.offsetWidth;
        const gap = parseInt(getComputedStyle(slider).gap) || 0;

        const moveX = index * (cardWidth + gap);
        slider.style.transform = translateX(-${moveX}px);

        applyAnimationToVisibleCards();
      }

      function applyAnimationToVisibleCards() {
        const visible = getVisibleCards();
        const start = index;
        const end = index + visible;

        [...slider.children].forEach((card, i) => {
          card.classList.remove("card-animate");
          if (i >= start && i < end) {
            setTimeout(() => card.classList.add("card-animate"), 10);
          }
        });
      }

      function slideTo(i) {
        const visible = getVisibleCards();
        const maxIndex = slider.children.length - visible;
        if (i > maxIndex) index = 0;
        else if (i < 0) index = maxIndex;
        else index = i;

        updateSliderPosition();
      }

      next.addEventListener("click", () => slideTo(index + 1));
      prev.addEventListener("click", () => slideTo(index - 1));

      window.addEventListener("resize", () => {
        updateSliderPosition();
      });

      // Initial render
      updateSliderPosition();
    </script>
  </body>
</html>
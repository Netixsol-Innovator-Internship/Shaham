<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
    <title>Frontend Mentor | Notifications page</title>
    <link rel="stylesheet" href="./output.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'jakarta': ['Plus Jakarta Sans', 'sans-serif'],
                    },
                    colors: {
                        'red': {
                            500: '#FF5757',
                        },
                        'blue': {
                            600: '#0A317B',
                        },
                        'gray': {
                            50: '#F7FAFD',
                            100: '#E5EFFA',
                            200: '#DDD7F0',
                            500: '#939CAD',
                            600: '#5E6778',
                            700: '#2E3A59',
                            900: '#1C202B',
                        }
                    },
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 font-jakarta min-h-screen transition-all duration-500 ease-in-out" id="body">

    <main class="max-w-4xl mx-auto p-2 xs:p-3 sm:p-4 md:p-8">
        <div id="main-container" class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all duration-500 ease-in-out">
            <header id="header" class="flex items-center justify-between p-6 border-b border-gray-100 max-[400px]:p-4 max-[329px]:p-3 transition-all duration-500 ease-in-out">

                <div class="flex items-center gap-3 max-[400px]:gap-2 max-[329px]:gap-1.5">
                    <h1 id="title" class="text-2xl font-bold text-gray-900 max-[400px]:text-lg max-[329px]:text-base transition-all duration-500 ease-in-out">Notifications</h1>
                    <span id="unread-count" class="bg-blue-600 text-white text-sm font-semibold px-2.5 py-1 rounded-md min-w-[28px] text-center max-[400px]:text-xs max-[400px]:px-2 max-[400px]:py-0.5 max-[329px]:text-[10px] max-[329px]:px-1.5 max-[329px]:py-[2px] transition-all duration-300 ease-in-out">3</span>
                </div>
                <div class="flex justify-center">
                    <button id="theme-toggle" class="w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 max-[400px]:w-10 max-[400px]:h-10 max-[329px]:w-8 max-[329px]:h-8 rounded-full shadow-lg transition-all duration-500 ease-in-out hover:scale-110 hover:rotate-12 focus:outline-none focus:ring-4 bg-white text-orange-500 hover:bg-gray-50 focus:ring-orange-500/20 shadow-gray-400/30 active:scale-95 group" aria-label="Switch to dark mode">
                        <svg id="sun-icon" class="w-5 h-5 md:w-6 md:h-6 lg:w-7 lg:h-7 max-[400px]:w-4 max-[400px]:h-4 max-[329px]:w-3 max-[329px]:h-3 mx-auto transition-all duration-500 ease-in-out group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <svg id="moon-icon" class="w-5 h-5 md:w-6 md:h-6 lg:w-7 lg:h-7 max-[400px]:w-4 max-[400px]:h-4 max-[329px]:w-3 max-[329px]:h-3 mx-auto transition-all duration-500 ease-in-out hidden group-hover:-rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                </div>
                <button id="mark-all-read" class="text-gray-600 hover:text-blue-500 font-medium transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md px-2 py-1 max-[400px]:text-sm max-[400px]:px-1.5 max-[400px]:py-0.5 max-[329px]:text-xs max-[329px]:px-1 max-[329px]:py-[2px] cursor-pointer hover:scale-105 active:scale-95">
                    Mark all as read
                </button>
            </header>

            <!-- Filter Bar -->
            <div id="filter-bar" class="px-6 py-4 border-b border-gray-100 max-[400px]:px-4 max-[329px]:px-3 transition-all duration-500 ease-in-out">
                <div class="flex items-center justify-between flex-wrap gap-3">
                    <!-- Filter Buttons -->
                    <div class="flex items-center gap-2 sm:gap-3">
                        <span class="text-sm font-medium text-gray-600 max-[400px]:text-xs transition-all duration-500 ease-in-out" id="filter-label">Filter:</span>
                        <div class="flex bg-gray-100 rounded-lg p-1 transition-all duration-500 ease-in-out" id="filter-container">
                            <button id="filter-all" class="filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out bg-blue-600 text-white shadow-sm max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs" data-filter="all">
                                All
                            </button>
                            <button id="filter-unread" class="filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out text-gray-600 hover:text-gray-900 hover:bg-gray-200 max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs" data-filter="unread">
                                Unread
                            </button>
                            <button id="filter-read" class="filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out text-gray-600 hover:text-gray-900 hover:bg-gray-200 max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs" data-filter="read">
                                Read
                            </button>
                        </div>
                    </div>
                    <!-- Results Count -->
                    <div class="flex items-center gap-2">
                        <span class="text-sm text-gray-500 max-[400px]:text-xs transition-all duration-500 ease-in-out" id="results-count">
                            Showing <span id="visible-count">7</span> of <span id="total-count">7</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Notifications Container -->
            <div id="notifications-container" class="flex flex-col gap-2 mr-2 ml-2">
                <!-- Notification 1 - Mark Webber (Unread) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 bg-[#DAE7F1] rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="1" data-read="false">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-mark-webber.webp" alt="Mark Webber" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Mark Webber</span>
                                        <span> reacted to your recent post</span>
                                        <span class="notification-target font-semibold text-gray-500 hover:text-blue-600 cursor-pointer transition-all duration-300"> My first tournament today!</span>
                                        <span class="w-2 h-2 bg-red-500 rounded-full inline-block ml-2 animate-pulse-slow"></span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">1m ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification 2 - Angela Gray (Unread) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 bg-[#DAE7F1] rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="2" data-read="false">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-angela-gray.webp" alt="Angela Gray" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Angela Gray</span>
                                        <span> followed you</span>
                                        <span class="w-2 h-2 bg-red-500 rounded-full inline-block ml-2 animate-pulse-slow"></span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">5m ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification 3 - Jacob Thompson (Unread) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 bg-[#DAE7F1] rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="3" data-read="false">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-jacob-thompson.webp" alt="Jacob Thompson" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Jacob Thompson</span>
                                        <span> has joined your group</span>
                                        <span class="notification-target font-semibold text-[#0F4CBD] hover:text-blue-600 cursor-pointer transition-all duration-300"> Chess Club</span>
                                        <span class="w-2 h-2 bg-red-500 rounded-full inline-block ml-2 animate-pulse-slow"></span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">1 day ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification 4 - Rizky Hasanuddin (Read) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="4" data-read="true">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-rizky-hasanuddin.webp" alt="Rizky Hasanuddin" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Rizky Hasanuddin</span>
                                        <span> sent you a private message</span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">5 days ago</p>
                                </div>
                            </div>
                            <div class="notification-message mt-3 p-4 border border-gray-200 rounded-lg transition-all duration-500 ease-in-out hover:border-blue-300 hover:shadow-sm">
                                <p class="message-text text-sm text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">Hello, thanks for setting up the Chess Club. I've been a member for a few weeks now and I'm already having lots of fun and improving my game.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification 5 - Kimberly Smith (Read) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="5" data-read="true">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-kimberly-smith.webp" alt="Kimberly Smith" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Kimberly Smith</span>
                                        <span> commented on your picture</span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">1 week ago</p>
                                </div>
                                <div class="ml-auto flex-shrink-0">
                                    <img src="./assets/images/image-chess.webp" alt="Commented image" class="comment-image w-11 h-11 md:w-12 md:h-12 rounded border-2 border-gray-200 hover:border-blue-600 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification 6 - Nathan Peterson (Read) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="6" data-read="true">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-nathan-peterson.webp" alt="Nathan Peterson" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Nathan Peterson</span>
                                        <span> reacted to your recent post</span>
                                        <span class="notification-target font-semibold text-gray-500 hover:text-blue-600 cursor-pointer transition-all duration-300"> 5 end-game strategies to increase your win rate</span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">2 weeks ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notification 7 - Anna Kim (Read) -->
                <div class="notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md" data-id="7" data-read="true">
                    <div class="flex items-start gap-3 md:gap-4">
                        <img src="./assets/images/avatar-anna-kim.webp" alt="Anna Kim" class="w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0 cursor-pointer transition-all duration-300 hover:scale-105 hover:ring-2 hover:ring-blue-300">
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between gap-3">
                                <div class="flex-1">
                                    <p class="notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out">
                                        <span class="notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300">Anna Kim</span>
                                        <span> left the group</span>
                                        <span class="notification-target font-semibold text-[#0F4CBD] hover:text-blue-600 cursor-pointer transition-all duration-300"> Chess Club</span>
                                    </p>
                                    <p class="notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out">2 weeks ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <script>
        let isDarkMode = false;
        let currentFilter = 'all'; // Tracking current filter

        function toggleTheme() {
            isDarkMode = !isDarkMode;
            const body = document.getElementById('body');
            const themeToggle = document.getElementById('theme-toggle');
            const sunIcon = document.getElementById('sun-icon');
            const moonIcon = document.getElementById('moon-icon');
            const mainContainer = document.getElementById('main-container');
            const header = document.getElementById('header');
            const filterBar = document.getElementById('filter-bar');
            const filterLabel = document.getElementById('filter-label');
            const filterContainer = document.getElementById('filter-container');
            const resultsCount = document.getElementById('results-count');
            const title = document.getElementById('title');
            const markAllReadBtn = document.getElementById('mark-all-read');

            themeToggle.classList.add('animate-bounce-gentle');
            setTimeout(() => {
                themeToggle.classList.remove('animate-bounce-gentle');
            }, 2000);

            if (isDarkMode) {
                // Dark mode
                body.className = 'bg-gray-900 font-jakarta min-h-screen transition-all duration-500 ease-in-out';
                themeToggle.className = 'w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 max-[400px]:w-10 max-[400px]:h-10 max-[329px]:w-8 max-[329px]:h-8 rounded-full shadow-lg transition-all duration-500 ease-in-out hover:scale-110 hover:rotate-12 focus:outline-none focus:ring-4 bg-gray-800 text-yellow-400 hover:bg-gray-700 focus:ring-yellow-400/20 shadow-gray-900/50 active:scale-95 group animate-bounce-gentle';
                themeToggle.setAttribute('aria-label', 'Switch to light mode');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
                mainContainer.className = 'bg-gray-800 border-gray-700 rounded-lg shadow-sm border overflow-hidden transition-all duration-500 ease-in-out';
                header.className = 'flex items-center justify-between p-6 border-b border-gray-700 max-[400px]:p-4 max-[329px]:p-3 transition-all duration-500 ease-in-out';
                filterBar.className = 'px-6 py-4 border-b border-gray-700 max-[400px]:px-4 max-[329px]:px-3 transition-all duration-500 ease-in-out';
                filterLabel.className = 'text-sm font-medium text-gray-400 max-[400px]:text-xs transition-all duration-500 ease-in-out';
                filterContainer.className = 'flex bg-gray-700 rounded-lg p-1 transition-all duration-500 ease-in-out';
                resultsCount.className = 'text-sm text-gray-400 max-[400px]:text-xs transition-all duration-500 ease-in-out';
                title.className = 'text-2xl font-bold text-white max-[400px]:text-lg max-[329px]:text-base transition-all duration-500 ease-in-out';
                markAllReadBtn.className = 'text-gray-300 hover:text-blue-400 font-medium transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md px-2 py-1 max-[400px]:text-sm max-[400px]:px-1.5 max-[400px]:py-0.5 max-[329px]:text-xs max-[329px]:px-1 max-[329px]:py-[2px] cursor-pointer hover:scale-105 active:scale-95';
            } else {
                // Light mode
                body.className = 'bg-gray-100 font-jakarta min-h-screen transition-all duration-500 ease-in-out';
                themeToggle.className = 'w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 max-[400px]:w-10 max-[400px]:h-10 max-[329px]:w-8 max-[329px]:h-8 rounded-full shadow-lg transition-all duration-500 ease-in-out hover:scale-110 hover:rotate-12 focus:outline-none focus:ring-4 bg-white text-orange-500 hover:bg-gray-50 focus:ring-orange-500/20 shadow-gray-400/30 active:scale-95 group animate-bounce-gentle';
                themeToggle.setAttribute('aria-label', 'Switch to dark mode');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
                mainContainer.className = 'bg-white border-gray-200 rounded-lg shadow-sm border overflow-hidden transition-all duration-500 ease-in-out';
                header.className = 'flex items-center justify-between p-6 border-b border-gray-100 max-[400px]:p-4 max-[329px]:p-3 transition-all duration-500 ease-in-out';
                filterBar.className = 'px-6 py-4 border-b border-gray-100 max-[400px]:px-4 max-[329px]:px-3 transition-all duration-500 ease-in-out';
                filterLabel.className = 'text-sm font-medium text-gray-600 max-[400px]:text-xs transition-all duration-500 ease-in-out';
                filterContainer.className = 'flex bg-gray-100 rounded-lg p-1 transition-all duration-500 ease-in-out';
                resultsCount.className = 'text-sm text-gray-500 max-[400px]:text-xs transition-all duration-500 ease-in-out';
                title.className = 'text-2xl font-bold text-gray-900 max-[400px]:text-lg max-[329px]:text-base transition-all duration-500 ease-in-out';
                markAllReadBtn.className = 'text-gray-600 hover:text-blue-500 font-medium transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md px-2 py-1 max-[400px]:text-sm max-[400px]:px-1.5 max-[400px]:py-0.5 max-[329px]:text-xs max-[329px]:px-1 max-[329px]:py-[2px] cursor-pointer hover:scale-105 active:scale-95';
            }

            updateFilterButtonStyles();

            // For updating Notifs
            const notificationItems = document.querySelectorAll('.notification-item');
            const notificationTexts = document.querySelectorAll('.notification-text');
            const notificationNames = document.querySelectorAll('.notification-name');
            const notificationTargets = document.querySelectorAll('.notification-target');
            const notificationTimes = document.querySelectorAll('.notification-time');
            const notificationMessages = document.querySelectorAll('.notification-message');
            const messageTexts = document.querySelectorAll('.message-text');
            const commentImages = document.querySelectorAll('.comment-image');

            notificationItems.forEach((item, index) => {
                setTimeout(() => {
                    const isUnread = item.classList.contains('bg-[#DAE7F1]') || item.classList.contains('bg-blue-900/30');
                    if (isDarkMode) {
                        if (isUnread) {
                            item.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out bg-blue-900/30 hover:bg-blue-900/40 rounded-lg hover:scale-[1.01] hover:shadow-md';
                        } else {
                            item.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-gray-700/50 rounded-lg hover:scale-[1.01] hover:shadow-md';
                        }
                    } else {
                        if (isUnread) {
                            item.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 bg-[#DAE7F1] rounded-lg hover:scale-[1.01] hover:shadow-md';
                        } else {
                            item.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md';
                        }
                    }
                    item.setAttribute('data-id', item.getAttribute('data-id'));
                    item.setAttribute('data-read', item.getAttribute('data-read'));
                }, index * 50);
            });

            notificationTexts.forEach(text => {
                text.className = isDarkMode
                    ? 'notification-text text-sm md:text-base text-gray-300 leading-relaxed transition-all duration-500 ease-in-out'
                    : 'notification-text text-sm md:text-base text-gray-700 leading-relaxed transition-all duration-500 ease-in-out';
            });

            notificationNames.forEach(name => {
                name.className = isDarkMode
                    ? 'notification-name font-semibold text-white hover:text-blue-400 cursor-pointer transition-all duration-300'
                    : 'notification-name font-semibold text-gray-900 hover:text-blue-600 cursor-pointer transition-all duration-300';
            });

            notificationTargets.forEach(target => {
                const isGroupTarget = target.textContent.includes('Chess Club');
                if (isDarkMode) {
                    target.className = isGroupTarget
                        ? 'notification-target font-semibold text-blue-400 hover:text-blue-300 cursor-pointer transition-all duration-300'
                        : 'notification-target font-semibold text-gray-400 hover:text-blue-400 cursor-pointer transition-all duration-300';
                } else {
                    target.className = isGroupTarget
                        ? 'notification-target font-semibold text-[#0F4CBD] hover:text-blue-600 cursor-pointer transition-all duration-300'
                        : 'notification-target font-semibold text-gray-500 hover:text-blue-600 cursor-pointer transition-all duration-300';
                }
            });

            notificationTimes.forEach(time => {
                time.className = isDarkMode
                    ? 'notification-time text-xs md:text-sm text-gray-400 mt-1 transition-all duration-500 ease-in-out'
                    : 'notification-time text-xs md:text-sm text-gray-500 mt-1 transition-all duration-500 ease-in-out';
            });

            notificationMessages.forEach(message => {
                message.className = isDarkMode
                    ? 'notification-message mt-3 p-4 border border-gray-600 bg-gray-700/30 rounded-lg transition-all duration-500 ease-in-out hover:border-blue-400 hover:shadow-sm'
                    : 'notification-message mt-3 p-4 border border-gray-200 rounded-lg transition-all duration-500 ease-in-out hover:border-blue-300 hover:shadow-sm';
            });

            messageTexts.forEach(text => {
                text.className = isDarkMode
                    ? 'message-text text-sm text-gray-300 leading-relaxed transition-all duration-500 ease-in-out'
                    : 'message-text text-sm text-gray-700 leading-relaxed transition-all duration-500 ease-in-out';
            });

            commentImages.forEach(img => {
                img.className = isDarkMode
                    ? 'comment-image w-11 h-11 md:w-12 md:h-12 rounded border-2 border-gray-600 hover:border-blue-400 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg'
                    : 'comment-image w-11 h-11 md:w-12 md:h-12 rounded border-2 border-gray-200 hover:border-blue-600 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg';
            });
        }

        // Filter functionality
        function updateFilterButtonStyles() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(btn => {
                const filter = btn.getAttribute('data-filter');
                if (filter === currentFilter) {
                    if (isDarkMode) {
                        btn.className = 'filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out bg-blue-600 text-white shadow-sm max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs';
                    } else {
                        btn.className = 'filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out bg-blue-600 text-white shadow-sm max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs';
                    }
                } else {
                    // Inactive button
                    if (isDarkMode) {
                        btn.className = 'filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out text-gray-300 hover:text-white hover:bg-gray-600 max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs';
                    } else {
                        btn.className = 'filter-btn px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-300 ease-in-out text-gray-600 hover:text-gray-900 hover:bg-gray-200 max-[400px]:px-2 max-[400px]:py-1 max-[400px]:text-xs';
                    }
                }
            });
        }

        function filterNotifications(filter) {
            currentFilter = filter;
            const notificationItems = document.querySelectorAll('.notification-item');
            let visibleCount = 0;

            notificationItems.forEach((item, index) => {
                const isRead = item.getAttribute('data-read') === 'true';
                let shouldShow = false;

                switch (filter) {
                    case 'all':
                        shouldShow = true;
                        break;
                    case 'unread':
                        shouldShow = !isRead;
                        break;
                    case 'read':
                        shouldShow = isRead;
                        break;
                }

                if (shouldShow) {
                    item.style.display = 'block';
                    item.classList.add('animate-fade-in');
                    setTimeout(() => {
                        item.classList.remove('animate-fade-in');
                    }, 400);
                    visibleCount++;
                } else {
                    item.classList.add('animate-fade-out');
                    setTimeout(() => {
                        item.style.display = 'none';
                        item.classList.remove('animate-fade-out');
                    }, 300);
                }
            });

            // Update results count
            document.getElementById('visible-count').textContent = visibleCount;
            document.getElementById('total-count').textContent = notifications.length;

            updateFilterButtonStyles();
        }

        // Objects for each Notif
        const notifications = [
            {
                id: 1,
                user: { name: "Mark Webber", avatar: "./assets/images/avatar-mark-webber.webp" },
                action: "reacted to your recent post",
                target: "My first tournament today!",
                targetType: "post",
                timestamp: "1m ago",
                isUnread: true,
                type: "reaction"
            },
            {
                id: 2,
                user: { name: "Angela Gray", avatar: "./assets/images/avatar-angela-gray.webp" },
                action: "followed you",
                target: "",
                targetType: "",
                timestamp: "5m ago",
                isUnread: true,
                type: "follow"
            },
            {
                id: 3,
                user: { name: "Jacob Thompson", avatar: "./assets/images/avatar-jacob-thompson.webp" },
                action: "has joined your group",
                target: "Chess Club",
                targetType: "group",
                timestamp: "1 day ago",
                isUnread: true,
                type: "group_join"
            },
            {
                id: 4,
                user: { name: "Rizky Hasanuddin", avatar: "./assets/images/avatar-rizky-hasanuddin.webp" },
                action: "sent you a private message",
                target: "",
                targetType: "",
                timestamp: "5 days ago",
                isUnread: false,
                type: "private_message",
                message: "Hello, thanks for setting up the Chess Club. I've been a member for a few weeks now and I'm already having lots of fun and improving my game."
            },
            {
                id: 5,
                user: { name: "Kimberly Smith", avatar: "./assets/images/avatar-kimberly-smith.webp" },
                action: "commented on your picture",
                target: "",
                targetType: "",
                timestamp: "1 week ago",
                isUnread: false,
                type: "comment",
                commentImage: "/placeholder.svg?height=45&width=45&text=Chess"
            },
            {
                id: 6,
                user: { name: "Nathan Peterson", avatar: "./assets/images/avatar-nathan-peterson.webp" },
                action: "reacted to your recent post",
                target: "5 end-game strategies to increase your win rate",
                targetType: "post",
                timestamp: "2 weeks ago",
                isUnread: false,
                type: "reaction"
            },
            {
                id: 7,
                user: { name: "Anna Kim", avatar: "./assets/images/avatar-anna-kim.webp" },
                action: "left the group",
                target: "Chess Club",
                targetType: "group",
                timestamp: "2 weeks ago",
                isUnread: false,
                type: "group_leave"
            }
        ];

        const unreadCountElement = document.getElementById("unread-count");
        const markAllReadButton = document.getElementById("mark-all-read");
        const themeToggleButton = document.getElementById("theme-toggle");
        const notificationItems = document.querySelectorAll("[data-id]");

        function updateUnreadCount() {
            const unreadCount = notifications.filter(n => n.isUnread).length;
            unreadCountElement.textContent = unreadCount;
            if (unreadCount === 0) {
                unreadCountElement.classList.add("invisible");
            } else {
                unreadCountElement.classList.remove("invisible");
            }
        }

        // Reading 1 notif
        function markNotificationAsRead(id) {
            const notification = notifications.find(n => n.id === id);
            const notificationElement = document.querySelector(`[data-id="${id}"]`);
            if (notification && notification.isUnread) {
                notification.isUnread = false;
                notificationElement.setAttribute('data-read', 'true');

                if (isDarkMode) {
                    notificationElement.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-gray-700/50 rounded-lg hover:scale-[1.01] hover:shadow-md';
                } else {
                    notificationElement.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md';
                }
                notificationElement.setAttribute('data-id', id);
                notificationElement.setAttribute('data-read', 'true');
                const redDot = notificationElement.querySelector(".w-1\\.5.h-1\\.5.bg-red-500, .w-2.h-2.bg-red-500");
                if (redDot) {
                    redDot.remove();
                }
                updateUnreadCount();
                // Update filter
                if (currentFilter === 'unread') {
                    setTimeout(() => {
                        filterNotifications(currentFilter);
                    }, 100);
                }
            }
        }

        // Reading all notifs
        function markAllAsRead() {
            let hasChanges = false;
            notifications.forEach(notification => {
                if (notification.isUnread) {
                    notification.isUnread = false;
                    hasChanges = true;
                    const notificationElement = document.querySelector(`[data-id="${notification.id}"]`);
                    if (notificationElement) {
                        notificationElement.setAttribute('data-read', 'true');
                        if (isDarkMode) {
                            notificationElement.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-gray-700/50 rounded-lg hover:scale-[1.01] hover:shadow-md';
                        } else {
                            notificationElement.className = 'notification-item p-4 md:p-6 cursor-pointer transition-all duration-300 ease-in-out hover:bg-slate-100 rounded-lg hover:scale-[1.01] hover:shadow-md';
                        }
                        notificationElement.setAttribute('data-id', notification.id);
                        notificationElement.setAttribute('data-read', 'true');
                        const redDot = notificationElement.querySelector(".w-1\\.5.h-1\\.5.bg-red-500, .w-2.h-2.bg-red-500");
                        if (redDot) {
                            redDot.remove();
                        }
                    }
                }
            });

            if (hasChanges) {
                updateUnreadCount();
                // Update filter
                if (currentFilter === 'unread') {
                    setTimeout(() => {
                        filterNotifications(currentFilter);
                    }, 100);
                }
            }
        }

        markAllReadButton.addEventListener("click", markAllAsRead);
        themeToggleButton.addEventListener("click", toggleTheme);

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const filter = btn.getAttribute('data-filter');
                filterNotifications(filter);
            });
        });

        notificationItems.forEach(item => {
            item.addEventListener("click", () => {
                const id = parseInt(item.getAttribute("data-id"));
                markNotificationAsRead(id);
            });
        });

        document.addEventListener("keydown", (e) => {
            if (e.target === markAllReadButton && (e.key === "Enter" || e.key === " ")) {
                e.preventDefault();
                markAllAsRead();
            }
            if (e.target === themeToggleButton && (e.key === "Enter" || e.key === " ")) {
                e.preventDefault();
                toggleTheme();
            }
        });

        // For Mobile View
        let touchStartY = 0;
        let touchEndY = 0;

        notificationItems.forEach(item => {
          item.addEventListener('touchstart', (e) => {
            touchStartY = e.changedTouches[0].screenY;
            item.style.backgroundColor = '#f1f5f9';
          });

          item.addEventListener('touchend', (e) => {
            touchEndY = e.changedTouches[0].screenY;

            setTimeout(() => {
              if (!item.classList.contains('bg-[#DAE7F1]') && !item.classList.contains('bg-blue-900/30')) {
                item.style.backgroundColor = '';
              }
            }, 150);

            if (Math.abs(touchEndY - touchStartY) < 10) {
              const id = parseInt(item.getAttribute("data-id"));
              markNotificationAsRead(id);
            }
          });

          item.addEventListener('touchcancel', () => {
            item.style.backgroundColor = '';
          });
        });

        notificationItems.forEach(item => {
            item.setAttribute("tabindex", "0");
            item.addEventListener("keydown", (e) => {
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    const id = parseInt(item.getAttribute("data-id"));
                    markNotificationAsRead(id);
                }
            });
        });

        function init() {
            updateUnreadCount();
            filterNotifications('all');
        }

        init();
    </script>
</body>
</html>

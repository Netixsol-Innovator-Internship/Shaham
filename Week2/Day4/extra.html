<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tip Calculator</title>
    <link rel="stylesheet" href="./output.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'space-mono': ['"Space Mono"', 'monospace'],
                    },
                    colors: {
                        'primary-green': 'hsl(172, 67%, 45%)',
                        'dark-green': 'hsl(183, 100%, 15%)',
                        'grey': {
                            50: 'hsl(189, 47%, 97%)',
                            200: 'hsl(185, 41%, 84%)',
                            400: 'hsl(184, 14%, 56%)',
                            500: 'hsl(186, 14%, 43%)',
                        },
                        gray: {
                            100: '#F3F4F6',
                            400: '#9CA3AF',
                            600: '#4B5563',
                            700: '#374151',
                            800: '#1F2937',
                            900: '#111827',
                        },
                        yellow: {
                            400: '#FACC15',
                        },
                        orange: {
                            500: '#FB923C',
                        }
                    }
                }
            }
        };
    </script>

    <style>
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
        .input-focus:focus {
            outline: none;
            border-color: hsl(172, 67%, 45%);
            box-shadow: 0 0 0 2px hsl(172, 67%, 45%, 0.2);
            transform: scale(1.02);
        }

        .tip-btn {
            transition: all 0.3s ease;
        }
        
        .tip-btn:hover {
            background-color: hsl(172, 67%, 45%);
            color: hsl(183, 100%, 15%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .tip-btn.active {
            background-color: hsl(172, 67%, 45%);
            color: hsl(183, 100%, 15%);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .error {
            border-color: #ef4444;
            animation: shake 0.5s ease-in-out;
        }
        
        .error:focus {
            border-color: #ef4444;
            box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        .animate-pulse-hover:hover {
            animation: pulse 0.6s ease-in-out;
        }

        .bg-primary-green { background-color: hsl(172, 67%, 45%); }
        .bg-dark-green { background-color: hsl(183, 100%, 15%); }
        .bg-grey-500 { background-color: hsl(186, 14%, 43%); }
        .bg-grey-400 { background-color: hsl(184, 14%, 56%); }
        .bg-grey-200 { background-color: hsl(185, 41%, 84%); }
        .bg-grey-50 { background-color: hsl(189, 47%, 97%); }
        
        .text-primary-green { color: hsl(172, 67%, 45%); }
        .text-dark-green { color: hsl(183, 100%, 15%); }
        .text-grey-500 { color: hsl(186, 14%, 43%); }
        .text-grey-400 { color: hsl(184, 14%, 56%); }
        .text-grey-200 { color: hsl(185, 41%, 84%); }
        .text-grey-50 { color: hsl(189, 47%, 97%); }
        
        .font-space-mono { font-family: 'Space Mono', monospace; }

        /* Input hover effects */
        input[type="number"] {
            transition: all 0.3s ease;
        }

        input[type="number"]:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Button hover effects */
        button {
            transition: all 0.3s ease;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        button:active:not(:disabled) {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Label hover effects */
        label {
            transition: all 0.3s ease;
        }

        label:hover {
            transform: translateX(2px);
        }

        /* Container hover effects */
        .calculator-container {
            transition: all 0.4s ease;
        }

        .calculator-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        /* Theme toggle enhanced animations */
        .theme-toggle {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .theme-toggle:hover {
            transform: scale(1.15) rotate(15deg);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .theme-toggle:active {
            transform: scale(0.95) rotate(5deg);
        }

        /* Logo hover effect */
        .logo {
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body id="body" class="bg-grey-200 min-h-screen font-space-mono transition-all duration-500 ease-in-out relative">

    <!-- Theme Toggle - Absolute positioned relative to body -->
    <div class="absolute top-4 left-1/2 transform -translate-x-1/2 z-50">
        <button id="theme-toggle" class="theme-toggle w-14 h-14 sm:w-16 sm:h-16 rounded-full shadow-lg focus:outline-none focus:ring-4 bg-white text-orange-500 hover:bg-gray-50 focus:ring-orange-500/20 shadow-gray-400/30 active:scale-95 group" aria-label="Switch to dark mode">
            <svg id="sun-icon" class="w-7 h-7 sm:w-8 sm:h-8 mx-auto transition-all duration-500 ease-in-out" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg id="moon-icon" class="w-7 h-7 sm:w-8 sm:h-8 mx-auto hidden transition-all duration-500 ease-in-out" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
    </div>

    <div class="min-h-screen flex flex-col items-center justify-center p-4">
        <!-- Logo -->
        <div class="mb-8 md:mb-12 mt-16 sm:mt-20">
            <div id="logo" class="logo text-dark-green text-2xl sm:text-3xl font-bold tracking-[0.5em] text-center animate-fade-in-up">
                <div>SPLI</div>
                <div>TTER</div>
            </div>
        </div>

        <div id="calculator-container" class="calculator-container bg-white rounded-3xl shadow-xl w-full max-w-4xl overflow-hidden animate-fade-in-up">
            <div class="flex flex-col lg:flex-row">
                <!-- Input Section -->
                <div id="input-section" class="p-6 md:p-8 lg:p-10 flex-1">
                    <div class="mb-6 md:mb-8">
                        <label for="bill" id="bill-label" class="block text-grey-500 text-sm font-bold mb-2">
                            Bill
                        </label>
                        <div class="relative">
                            <span id="dollar-sign" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-grey-400 text-xl transition-all duration-300">$</span>
                            <input 
                                type="number" 
                                id="bill" 
                                placeholder="0" 
                                class="w-full bg-grey-50 border-2 border-transparent rounded-lg px-4 py-3 pl-8 text-right text-2xl font-bold text-dark-green input-focus"
                                step="0.01"
                                min="0"
                            >
                        </div>
                        <div id="bill-error" class="text-red-500 text-sm mt-1 hidden transition-all duration-300">Can't be zero</div>
                    </div>
                    
                    <!-- Tip Selection -->
                    <div class="mb-6 md:mb-8">
                        <label id="tip-label" class="block text-grey-500 text-sm font-bold mb-4">
                            Select Tip %
                        </label>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4">
                            <button class="tip-btn bg-dark-green text-white rounded-lg py-3 px-4 text-xl font-bold" data-tip="5">
                                5%
                            </button>
                            <button class="tip-btn bg-dark-green text-white rounded-lg py-3 px-4 text-xl font-bold" data-tip="10">
                                10%
                            </button>
                            <button class="tip-btn bg-dark-green text-white rounded-lg py-3 px-4 text-xl font-bold" data-tip="15">
                                15%
                            </button>
                            <button class="tip-btn bg-dark-green text-white rounded-lg py-3 px-4 text-xl font-bold" data-tip="25">
                                25%
                            </button>
                            <button class="tip-btn bg-dark-green text-white rounded-lg py-3 px-4 text-xl font-bold" data-tip="50">
                                50%
                            </button>
                            <input
                                type="number"
                                id="custom-tip"
                                placeholder="Custom"
                                class="bg-grey-50 border-2 border-transparent rounded-lg py-3 px-4 text-xl font-bold text-dark-green text-center input-focus"
                                min="0"
                                max="100"
                            >
                            <div id="custom-tip-error" class="text-red-500 text-sm mt-1 hidden transition-all duration-300">Must be 100 or less</div>
                        </div>
                    </div>

                    <!-- Number of People -->
                    <div class="mb-6 md:mb-8">
                        <div class="flex justify-between items-center mb-2">
                            <label for="people" id="people-label" class="text-grey-500 text-sm font-bold">
                                Number of People
                            </label>
                            <div id="people-error" class="text-red-500 text-sm hidden transition-all duration-300">Can't be zero</div>
                        </div>
                        <div class="relative">
                            <svg id="person-icon" class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-grey-400 transition-all duration-300" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                            </svg>
                            <input 
                                type="number" 
                                id="people" 
                                placeholder="0" 
                                class="w-full bg-grey-50 border-2 border-transparent rounded-lg px-4 py-3 pl-12 text-right text-2xl font-bold text-dark-green input-focus"
                                min="1"
                            >
                        </div>
                    </div>
                </div>
                
                <!-- Results Section -->
                <div class="bg-dark-green p-6 md:p-8 lg:p-10 lg:rounded-2xl lg:m-6 flex-1 lg:max-w-md">
                    <!-- Tip Amount -->
                    <div class="flex justify-between items-center mb-6 md:mb-8 transition-all duration-300 hover:transform hover:scale-105">
                        <div>
                            <div class="text-white text-sm md:text-base font-bold">Tip Amount</div>
                            <div class="text-grey-400 text-xs md:text-sm">/ person</div>
                        </div>
                        <div id="tip-amount" class="text-primary-green text-3xl md:text-4xl lg:text-5xl font-bold animate-pulse-hover">
                            $0.00
                        </div>
                    </div>
                    
                    <!-- Total Amount -->
                    <div class="flex justify-between items-center mb-8 md:mb-12 transition-all duration-300 hover:transform hover:scale-105">
                        <div>
                            <div class="text-white text-sm md:text-base font-bold">Total</div>
                            <div class="text-grey-400 text-xs md:text-sm">/ person</div>
                        </div>
                        <div id="total-amount" class="text-primary-green text-3xl md:text-4xl lg:text-5xl font-bold animate-pulse-hover">
                            $0.00
                        </div>
                    </div>
                    
                    <!-- Calculate Button -->
                    <button 
                        id="calculate-btn" 
                        class="w-full bg-primary-green text-dark-green py-3 rounded-lg text-xl font-bold hover:bg-opacity-80 transition-all duration-300 mb-4 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:transform-none"
                        disabled
                    >
                        CALCULATE
                    </button>
                    
                    <!-- Reset Button -->
                    <button 
                        id="reset-btn" 
                        class="w-full bg-primary-green text-dark-green py-3 rounded-lg text-xl font-bold hover:bg-opacity-80 transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:transform-none"
                        disabled
                    >
                        RESET
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let hasCalculated = false;
        let isDarkMode = false;

        const calculator = {
            bill: 0,
            tipPercentage: 0,
            numberOfPeople: 0,
            customTip: 0
        };

        const billInput = document.getElementById('bill');
        const customTipInput = document.getElementById('custom-tip');
        const peopleInput = document.getElementById('people');
        const tipButtons = document.querySelectorAll('.tip-btn');
        const tipAmountDisplay = document.getElementById('tip-amount');
        const totalAmountDisplay = document.getElementById('total-amount');
        const calculateButton = document.getElementById('calculate-btn');
        const resetButton = document.getElementById('reset-btn');
        const billError = document.getElementById('bill-error');
        const peopleError = document.getElementById('people-error');
        const customTipError = document.getElementById('custom-tip-error');

        // Theme elements
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.getElementById('body');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        const logo = document.getElementById('logo');
        const calculatorContainer = document.getElementById('calculator-container');
        const inputSection = document.getElementById('input-section');
        const billLabel = document.getElementById('bill-label');
        const tipLabel = document.getElementById('tip-label');
        const peopleLabel = document.getElementById('people-label');
        const dollarSign = document.getElementById('dollar-sign');
        const personIcon = document.getElementById('person-icon');

        // Utility functions
        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(amount);
        };

        const validateInput = (input, errorElement, canBeZero = false, maxValue = null) => {
            const value = parseFloat(input.value);
            const isValid = !isNaN(value) && (canBeZero ? value >= 0 : value > 0) && (maxValue ? value <= maxValue : true);
            
            if (!isValid && input.value !== '') {
                input.classList.add('error');
                errorElement.classList.remove('hidden');
                return false;
            } else {
                input.classList.remove('error');
                errorElement.classList.add('hidden');
                return true;
            }
        };

        const checkCalculateButtonState = () => {
            const billValue = parseFloat(billInput.value) || 0;
            const peopleValue = parseInt(peopleInput.value) || 0;
            const hasTipSelected = calculator.tipPercentage > 0 || (customTipInput.value && parseFloat(customTipInput.value) > 0);
            
            const shouldEnable = billValue > 0 && peopleValue > 0 && hasTipSelected;
            
            calculateButton.disabled = !shouldEnable;
        };

        const calculateTip = () => {
            // Update calculator values
            calculator.bill = parseFloat(billInput.value) || 0;
            calculator.numberOfPeople = parseInt(peopleInput.value) || 0;
            calculator.tipPercentage = customTipInput.value ? parseFloat(customTipInput.value) : calculator.tipPercentage;

            // Validate inputs
            const billValid = validateInput(billInput, billError);
            const peopleValid = validateInput(peopleInput, peopleError);
            const customTipValid = validateInput(customTipInput, customTipError, true, 100);
            
            if (!billValid || !peopleValid || !customTipValid || calculator.bill <= 0 || calculator.numberOfPeople <= 0) {
                tipAmountDisplay.textContent = '$0.00';
                totalAmountDisplay.textContent = '$0.00';
                return;
            }

            const tipAmount = (calculator.bill * calculator.tipPercentage) / 100;
            const tipPerPerson = tipAmount / calculator.numberOfPeople;
            const totalPerPerson = (calculator.bill + tipAmount) / calculator.numberOfPeople;
            
            // Animate the result display
            tipAmountDisplay.style.transform = 'scale(1.1)';
            totalAmountDisplay.style.transform = 'scale(1.1)';
            
            setTimeout(() => {
                tipAmountDisplay.textContent = formatCurrency(tipPerPerson);
                totalAmountDisplay.textContent = formatCurrency(totalPerPerson);
                
                setTimeout(() => {
                    tipAmountDisplay.style.transform = 'scale(1)';
                    totalAmountDisplay.style.transform = 'scale(1)';
                }, 100);
            }, 150);

            // Launch confetti
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
            });

            hasCalculated = true;
            resetButton.disabled = false;
        };

        const resetCalculator = () => {
            calculator.bill = 0;
            calculator.tipPercentage = 0;
            calculator.numberOfPeople = 0;
            calculator.customTip = 0;

            billInput.value = '';
            customTipInput.value = '';
            peopleInput.value = '';
            tipButtons.forEach(btn => btn.classList.remove('active'));

            // Animate reset
            tipAmountDisplay.style.transform = 'scale(0.8)';
            totalAmountDisplay.style.transform = 'scale(0.8)';
            
            setTimeout(() => {
                tipAmountDisplay.textContent = '$0.00';
                totalAmountDisplay.textContent = '$0.00';
                
                setTimeout(() => {
                    tipAmountDisplay.style.transform = 'scale(1)';
                    totalAmountDisplay.style.transform = 'scale(1)';
                }, 100);
            }, 150);

            hasCalculated = false;
            resetButton.disabled = true;

            billInput.classList.remove('error');
            peopleInput.classList.remove('error');
            customTipInput.classList.remove('error');
            billError.classList.add('hidden');
            peopleError.classList.add('hidden');
            customTipError.classList.add('hidden');
            checkCalculateButtonState();
        };

        const toggleTheme = () => {
            isDarkMode = !isDarkMode;

            // Enhanced theme toggle animation
            themeToggle.style.transform = 'scale(0.8) rotate(180deg)';
            
            setTimeout(() => {
                if (isDarkMode) {
                    // Body
                    body.classList.remove('bg-grey-200');
                    body.classList.add('bg-gray-900', 'text-gray-100');

                    // Theme toggle button
                    themeToggle.classList.replace('bg-white', 'bg-gray-800');
                    themeToggle.classList.replace('text-orange-500', 'text-yellow-400');
                    themeToggle.classList.replace('hover:bg-gray-50', 'hover:bg-gray-700');

                    // Icons
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');

                    // Logo
                    logo.classList.remove('text-dark-green');
                    logo.classList.add('text-gray-100');

                    // Calculator container
                    calculatorContainer.classList.remove('bg-white');
                    calculatorContainer.classList.add('bg-gray-800');

                    // Labels
                    billLabel.classList.remove('text-grey-500');
                    billLabel.classList.add('text-gray-300');
                    tipLabel.classList.remove('text-grey-500');
                    tipLabel.classList.add('text-gray-300');
                    peopleLabel.classList.remove('text-grey-500');
                    peopleLabel.classList.add('text-gray-300');

                    // Input fields
                    billInput.classList.remove('bg-grey-50', 'text-dark-green');
                    billInput.classList.add('bg-gray-700', 'text-white', 'border-gray-600');
                    
                    customTipInput.classList.remove('bg-grey-50', 'text-dark-green');
                    customTipInput.classList.add('bg-gray-700', 'text-white', 'border-gray-600');
                    
                    peopleInput.classList.remove('bg-grey-50', 'text-dark-green');
                    peopleInput.classList.add('bg-gray-700', 'text-white', 'border-gray-600');

                    // Icons
                    dollarSign.classList.remove('text-grey-400');
                    dollarSign.classList.add('text-gray-400');
                    personIcon.classList.remove('text-grey-400');
                    personIcon.classList.add('text-gray-400');

                } else {
                    // Body
                    body.classList.remove('bg-gray-900', 'text-gray-100');
                    body.classList.add('bg-grey-200');

                    // Theme toggle button
                    themeToggle.classList.replace('bg-gray-800', 'bg-white');
                    themeToggle.classList.replace('text-yellow-400', 'text-orange-500');
                    themeToggle.classList.replace('hover:bg-gray-700', 'hover:bg-gray-50');

                    // Icons
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');

                    // Logo
                    logo.classList.remove('text-gray-100');
                    logo.classList.add('text-dark-green');

                    // Calculator container
                    calculatorContainer.classList.remove('bg-gray-800');
                    calculatorContainer.classList.add('bg-white');

                    // Labels
                    billLabel.classList.remove('text-gray-300');
                    billLabel.classList.add('text-grey-500');
                    tipLabel.classList.remove('text-gray-300');
                    tipLabel.classList.add('text-grey-500');
                    peopleLabel.classList.remove('text-gray-300');
                    peopleLabel.classList.add('text-grey-500');

                    // Input fields
                    billInput.classList.remove('bg-gray-700', 'text-white', 'border-gray-600');
                    billInput.classList.add('bg-grey-50', 'text-dark-green');
                    
                    customTipInput.classList.remove('bg-gray-700', 'text-white', 'border-gray-600');
                    customTipInput.classList.add('bg-grey-50', 'text-dark-green');
                    
                    peopleInput.classList.remove('bg-gray-700', 'text-white', 'border-gray-600');
                    peopleInput.classList.add('bg-grey-50', 'text-dark-green');

                    // Icons
                    dollarSign.classList.remove('text-gray-400');
                    dollarSign.classList.add('text-grey-400');
                    personIcon.classList.remove('text-gray-400');
                    personIcon.classList.add('text-grey-400');
                }
                
                setTimeout(() => {
                    themeToggle.style.transform = 'scale(1) rotate(0deg)';
                }, 200);
            }, 200);
        };

        // Event listeners
        billInput.addEventListener('input', (e) => {
            validateInput(billInput, billError);
            checkCalculateButtonState();
        });

        customTipInput.addEventListener('input', (e) => {
            const customValue = parseFloat(e.target.value) || 0;
            const isValidCustomTip = validateInput(customTipInput, customTipError, true, 100);

            if (isValidCustomTip && e.target.value !== '') {
                calculator.customTip = customValue;
                calculator.tipPercentage = customValue;
                tipButtons.forEach(btn => btn.classList.remove('active'));
            }
            checkCalculateButtonState();
        });

        peopleInput.addEventListener('input', (e) => {
            validateInput(peopleInput, peopleError);
            checkCalculateButtonState();
        });

        tipButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const tipValue = parseInt(e.target.dataset.tip);
                
                if (tipValue) {
                    calculator.tipPercentage = tipValue;
                    tipButtons.forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    customTipInput.value = '';
                    calculator.customTip = 0;
                }
                checkCalculateButtonState();
            });
        });

        calculateButton.addEventListener('click', calculateTip);
        resetButton.addEventListener('click', resetCalculator);
        themeToggle.addEventListener('click', toggleTheme);

        // Input validation on blur
        billInput.addEventListener('blur', () => {
            validateInput(billInput, billError);
        });

        peopleInput.addEventListener('blur', () => {
            validateInput(peopleInput, peopleError);
        });

        customTipInput.addEventListener('blur', () => {
            validateInput(customTipInput, customTipError, true, 100);
        });

        // Prevent non-numeric input
        [billInput, customTipInput, peopleInput].forEach(input => {
            input.addEventListener('keydown', (e) => {
                if ([46, 8, 9, 27, 13].indexOf(e.keyCode) !== -1 ||
                    (e.keyCode === 65 && e.ctrlKey === true) ||
                    (e.keyCode === 67 && e.ctrlKey === true) ||
                    (e.keyCode === 86 && e.ctrlKey === true) ||
                    (e.keyCode === 88 && e.ctrlKey === true) ||
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                    return;
                }
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });
        });

        checkCalculateButtonState();
    </script>
</body>
</html>